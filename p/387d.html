<!DOCTYPE html>
<html lang="zh">
  <head>
    
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">



  <meta name="description" content="Counting Sort"/>




  <meta name="keywords" content="Algorithm," />


<meta name="google-site-verification" content="qy4gf0StWj627u-7aIP3WDCLBi3jPYXhm57UC7TUcok" />
<meta name="baidu-site-verification" content="XJoPG7ad2Z" />

<link rel="alternate" hreflang="x-default" href="https://zaf1ro.github.io/p/387d.html" />
<link rel="alternate" hreflang="zh" href="https://zaf1ro.github.io/p/387d.html" />




  <link rel="alternate" href="/default" title="Zaf1ro" >




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.jpeg?v=1.1" />



<link rel="canonical" href="https://zaf1ro.github.io/p/387d.html"/>


<meta name="description" content="Counting SortCounting sort是一种non-comparative sorting algorithm(非比较排序算法), 主要用于数值偏小的正整数集合排序. 假设数组A拥有n个元素&amp;#123;1,2,...,k&amp;#125;, 算法步骤如下:  创建一个数组C, 其长度为k, 所有元素初始化为0 遍历A, 对于每个元素i, C[i]加一 遍历C, 对于每个元素j, 将C[j]">
<meta property="og:type" content="article">
<meta property="og:title" content="Counting Sort">
<meta property="og:url" content="https://zaf1ro.github.io/p/387d.html">
<meta property="og:site_name" content="Zaf1ro">
<meta property="og:description" content="Counting SortCounting sort是一种non-comparative sorting algorithm(非比较排序算法), 主要用于数值偏小的正整数集合排序. 假设数组A拥有n个元素&amp;#123;1,2,...,k&amp;#125;, 算法步骤如下:  创建一个数组C, 其长度为k, 所有元素初始化为0 遍历A, 对于每个元素i, C[i]加一 遍历C, 对于每个元素j, 将C[j]">
<meta property="og:locale">
<meta property="article:published_time" content="2023-03-20T02:29:48.000Z">
<meta property="article:modified_time" content="2024-08-20T16:43:04.027Z">
<meta property="article:tag" content="Algorithm">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />




    <title>
Counting Sort - Zaf1ro
</title>
  <meta name="generator" content="Hexo 6.3.0"></head>

  <body>
  <nav id="sidebar" class="active on-post">
    <div id="third">
      <div id="sidebar-title">
        <h1 id="sidebar-title-text">
            <a href="/." class="logo">Home</a>
        </h1>
      </div>
      <div id="google-search">
  <script async src="https://cse.google.com/cse.js?cx=009060789867951546370:v3hkcobeuh9"></script>
  <div class="gcse-search"></div>
</div>
      
  <div id="toc">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Counting-Sort"><span class="toc-text">Counting Sort</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1122-Relative-Sort-Array"><span class="toc-text">1122. Relative Sort Array</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Counting-sort"><span class="toc-text">Counting sort</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#274-H-Index"><span class="toc-text">274. H-Index</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Counting-sort-1"><span class="toc-text">Counting sort</span></a></li></ol></li></ol>
  </div>

    </div>
  </nav>

    <div id="page">
      <header id="masthead"><div class="site-header-inner">
  
  <button class="nav-mobile-button on-post" id="sidebarCollapse">
  
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path d="M24 6h-24v-4h24v4zm0 4h-24v4h24v-4zm0 8h-24v4h24v-4z"/></svg>
  </button>
  
  


  <nav id="nav-top">
    
      
      <ul id="menu-top" class="nav-top-items on-post">
      
        
          <li class="menu-item">
            <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Zaf1ro">
              
              
                Github
              
            </a>
          </li>
        
      </ul>
    
  </nav>
</div>

      </header>
      <div id="content">
        
  <div class="primary">
    
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Counting Sort
        
      </h1>
      <time class="post-time">
          03/19/23
      </time>
    </header>

    <div class="post-content">
      <h2 id="Counting-Sort"><a href="#Counting-Sort" class="headerlink" title="Counting Sort"></a>Counting Sort</h2><p>Counting sort是一种<strong>non-comparative sorting algorithm</strong>(非比较排序算法), 主要用于数值偏小的正整数集合排序. 假设数组<code>A</code>拥有<code>n</code>个元素<code>&#123;1,2,...,k&#125;</code>, 算法步骤如下:</p>
<ol>
<li>创建一个数组<code>C</code>, 其长度为<code>k</code>, 所有元素初始化为0</li>
<li>遍历<code>A</code>, 对于每个元素<code>i</code>, <code>C[i]</code>加一</li>
<li>遍历<code>C</code>, 对于每个元素<code>j</code>, 将<code>C[j]</code>个<code>j</code>放入结果中</li>
</ol>
<p>算法的时间复杂度为<code>$O(n + k)$</code>(<code>n</code>为元素数, <code>k</code>为键值范围). 需要注意的是, 若<code>A</code>中拥有两个数字3, 则上述步骤只会将3放入结果中两遍. 若想保持算法的<strong>stability</strong>(稳定性), 则需对算法步骤做出修改: <code>C[j]</code>原本用于表示元素<code>j</code>的出现次数, 若对<code>[1, k-1]</code>范围的<code>C[j]</code>执行<code>C[j] += C[j-1]</code>, 则<code>C[j]</code>表示<code>[0, j]</code>范围内元素的出现次数, 再次遍历<code>A</code>时, 对于每个元素<code>i</code>, <code>C[i]</code>则表示<code>i</code>在<code>A</code>中的位置, 从而让该排序算法成为<strong>stable sort</strong>, 时间复杂度为<code>$O(n + k + n)  = O(2n + k) = O(n + k)$</code>.</p>
<h2 id="1122-Relative-Sort-Array"><a href="#1122-Relative-Sort-Array" class="headerlink" title="1122. Relative Sort Array"></a>1122. Relative Sort Array</h2><p>Given two arrays <code>arr1</code> and <code>arr2</code>, the elements of <code>arr2</code> are distinct, and all elements in <code>arr2</code> are also in <code>arr1</code>.</p>
<p>Sort the elements of <code>arr1</code> such that the relative ordering of items in <code>arr1</code> are the same as in <code>arr2</code>. Elements that do not appear in <code>arr2</code> should be placed at the end of <code>arr1</code> in <strong>ascending</strong> order.</p>
<p>Example 1:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Input: arr1 = [2,3,1,3,2,4,6,7,9,2,19], arr2 = [2,1,4,3,9,6]</span><br><span class="line">Output: [2,2,2,1,4,3,3,9,6,7,19]</span><br></pre></td></tr></table></figure>

<h3 id="Counting-sort"><a href="#Counting-sort" class="headerlink" title="Counting sort"></a>Counting sort</h3><p>先统计<code>$arr_1$</code>中每个元素的出现次数, 再遍历<code>$arr_2$</code>, 将每个出现过的元素加入结果中, 最后再遍历<code>$arr_1$</code>, 将剩余元素放入结果中. <code>count</code>作为一个辅助数组, 既可保证元素按照<code>$arr_2$</code>中的顺序, 也可作为一个字典帮助查询<code>$arr_1$</code>中的元素是否出现在<code>$arr_2$</code>中.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] relativeSortArray(<span class="type">int</span>[] arr1, <span class="type">int</span>[] arr2) &#123;</span><br><span class="line">        <span class="type">int</span>[] count = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">1001</span>], res = <span class="keyword">new</span> <span class="title class_">int</span>[arr1.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num: arr1) &#123;</span><br><span class="line">            ++count[num];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num: arr2) &#123;</span><br><span class="line">            <span class="keyword">while</span> (count[num]-- &gt; <span class="number">0</span>) res[i++] = num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>; num &lt;= <span class="number">1000</span>; num++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (count[num]-- &gt; <span class="number">0</span>) res[i++] = num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="274-H-Index"><a href="#274-H-Index" class="headerlink" title="274. H-Index"></a>274. H-Index</h2><p>Given an array of integers <code>citations</code> where <code>citations[i]</code> is the number of citations a researcher received for their <code>$i^&#123;th&#125;$</code> paper, return compute the researcher&#39;s <strong>h-index</strong>.</p>
<p>According to the definition of h-index on Wikipedia: A scientist has an index <code>h</code> if <code>h</code> of their n papers have at least <code>h</code> citations each, and the other <code>n − h</code> papers have no more than <code>h</code> citations each.</p>
<p>If there are several possible values for <code>h</code>, the maximum one is taken as the <strong>h-index</strong>.</p>
<p>Example 1:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Input: citations = [3,0,6,1,5]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: [3,0,6,1,5] means the researcher has 5 papers in total and each of them had received 3, 0, 6, 1, 5 citations respectively.</span><br><span class="line">Since the researcher has 3 papers with at least 3 citations each and the remaining two with no more than 3 citations each, their h-index is 3.</span><br></pre></td></tr></table></figure>

<h3 id="Counting-sort-1"><a href="#Counting-sort-1" class="headerlink" title="Counting sort"></a>Counting sort</h3><p>创建一个<code>count</code>数组, 并遍历<code>citations</code>, 统计每篇论文的引用次数, 此时<code>C</code>中的<code>i</code>为引用次数, <code>C[i]</code>为该引用次数的论文数. 若统计<code>C</code>中每个元素的<strong>suffix sum</strong>(后缀和), 则<code>C[i]</code>表示<code>[i, 1000]</code>引用次数的总论文数, 若<code>C[i] &gt;= i</code>, 则表示有<code>i</code>篇论文, 它们的引用次数大于或等于<code>i</code>, 满足H-index的定义.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hIndex</span><span class="params">(<span class="type">int</span>[] citations)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] count = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">1001</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> c: citations) &#123;</span><br><span class="line">            ++count[c];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1000</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">            count[i-<span class="number">1</span>] += count[i];</span><br><span class="line">            <span class="keyword">if</span> (count[i] &gt;= i) <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    <footer class="post-footer">
      
      <div class="post-tags">
        
          <a href="/tags/Algorithm/">Algorithm</a>
        
      </div>
      

      
      
  <nav class="post-nav">
    
      <a class="prev" href="/p/4181.html">
        <i class="icon-left"></i>
        <span class="prev-text nav-default">Bucket Sort</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/p/a577.html">
        <span class="next-text nav-default">Radix Sort</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="icon-right"></i>
      </a>
    
  </nav>

      
    </footer>
  </article>

  </div>
  
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    showProcessingMessages: true,
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: false,
        skipTags: ["script","noscript","style","textarea"]
    },
    TeX: {
        Macros:{
            Arr: ["\\{ #1 \\}", 1],
            fi: "{f\\,\\!_i}",
            SS: ["{#1\\:\\!_#2}",2],
            SUBx: ["{\\:\\!_#1}",1],
            EXPx: ["{\\;\\!^#1}",1],
            Ss: ["{#1\\,\\!_#2}",2],
            subx: ["{\\,\\!_#1}",1]
        }
    }
});
</script>


      </div>
    </div>

    
<script type="text/javascript">
  var disqus_shortname = 'zaf1ro';
  var disqus_identifier = 'p/387d.html';
  var disqus_title = "Counting Sort";

  var disqus = {
    load : function disqus(){
        if(typeof DISQUS !== 'object') {
          (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
          }());
          $('#load-disqus').remove(); ///加载后移除按钮
        }
    }
  }

  
    var disqus_config = function () {
        this.page.url = disqus_url;
        this.page.identifier = disqus_identifier;
        this.page.title = disqus_title;
    };
  

</script>



    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.6.0.min.js"></script>
  

  

    
    <script type="text/javascript">
(function(){"use strict";var Theme={};Theme.backToTop={register:function(){var $backToTop=$('#back-to-top');$(window).scroll(function(){if($(window).scrollTop()>100){$backToTop.fadeIn(1000)}else{$backToTop.fadeOut(1000)}});$backToTop.click(function(){$('body').animate({scrollTop:0})})}};Theme.fancybox={register:function(){if($.fancybox){$('.post').each(function(){$(this).find('img').each(function(){$(this).wrap('<a class="fancybox" href="'+this.src+'" title="'+this.alt+'"></a>')})});$('.fancybox').fancybox({openEffect:'elastic',closeEffect:'elastic'})}}};this.Theme=Theme}.call(this));
</script>

<script type="text/javascript">
$(document).ready(function(){if(themeConfig.fancybox.enable){Theme.fancybox.register()}Theme.backToTop.register()});
</script>
    
<script type="text/javascript">
var themeConfig = {
  fancybox: {
    enable: false
  },
};
</script>

    <script>
    $('table').wrap('<div style="overflow-x: auto;"></div>');
</script>
    
    <script>
$(document).ready(function () {
    $('#sidebarCollapse').on('click', function(){
        $('#sidebar').toggleClass('active');
    });

    $('#toc ol li a').on('click', function(){
        $('#sidebar').toggleClass('active');
    });
});
</script>
  </body>
</html>
